{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[81],{\"7IUX\":function(e,t,a){\"use strict\";a.r(t);a(\"5Dmo\");var i=a(\"3S7+\"),s=(a(\"+L6B\"),a(\"2/Rp\")),o=(a(\"OaEy\"),a(\"2fM7\")),r=a(\"q1tI\"),n=a.n(r),l=a(\"QRz8\"),c=a.n(l),h=(a(\"MT78\"),a(\"jx6Z\")),m=a(\"F/CM\");a(\"c672\"),o[\"a\"].Option,o[\"a\"].OptGroup;class d extends r[\"Component\"]{constructor(e){super(e),this.start=(()=>{this.initMap({}).then(()=>{})}),this.initMap=(()=>{return new Promise(e=>{mars3d.createMap({id:\"cesiumContainer\",url:\"/config/marsConfig.json\",success:t=>{window.viewer=t,this.setState({viewer:t}),e()}})})}),this.initCamera=(e=>{var t=this.state.obj;e.flyTo(t,{offset:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-90),roll:0}})}),this.loadGeoJSON=(e=>{var t=this.state.viewer,a=Cesium.GeoJsonDataSource.load(e);a.then(e=>{t.dataSources.add(e),t.flyTo(e,{offset:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-90),roll:0}}),this.setState({obj:e})})}),this.loadMapServer=(e=>{var t=this.state.viewer,a=t.imageryLayers.addImageryProvider(new Cesium.ArcGisMapServerImageryProvider({url:e}));t.flyTo(a,{offset:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-90),roll:0}}),this.setState({obj:a})}),this.load3Dtiles=(e=>{var t=this.state.viewer,a=new Cesium.Cesium3DTileset({url:e});t&&a.readyPromise.then(e=>{t.scene.primitives.add(e),t.flyTo(e,{offset:{heading:Cesium.Math.toRadians(0),pitch:Cesium.Math.toRadians(-90),roll:0}}),this.setState({obj:e})}).otherwise(function(e){console.log(e)})}),this.loadGeoServer=((e,t)=>{var a=this.state.viewer;a&&a.imageryLayers.addImageryProvider(new Cesium.WebMapServiceImageryProvider({url:e,layers:t}))}),this.zoomIn=(()=>{var e=this.state.viewer,t=e.camera.position,a=e.scene.globe.ellipsoid,i=a.cartesianToCartographic(t),s=i.height,o=parseFloat(Cesium.Math.toDegrees(i.longitude).toFixed(8)),r=parseFloat(Cesium.Math.toDegrees(i.latitude).toFixed(8));e.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(o,r,s/1.5),duration:1})}),this.zoomOut=(()=>{var e=this.state.viewer,t=e.camera.position,a=e.scene.globe.ellipsoid,i=a.cartesianToCartographic(t),s=i.height,o=parseFloat(Cesium.Math.toDegrees(i.longitude).toFixed(8)),r=parseFloat(Cesium.Math.toDegrees(i.latitude).toFixed(8));e.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(o,r,1.5*s),duration:1})}),this.showModal=(e=>{switch(e){case\"chart\":this.setState({chartVisible:!0,sourceVisible:!1});break;case\"source\":this.setState({chartVisible:!1,sourceVisible:!0});break}}),this.hideModal=(()=>{this.setState({chartVisible:!1,sourceVisible:!1})}),this.state={obj:null,viewer:null,ModalText:\"Content of the modal\",chartVisible:!1,sourceVisible:!1,confirmLoading:!1}}componentDidMount(){this.start()}render(){var e=this.state,t=e.viewer,a=e.chartVisible,o=e.sourceVisible;e.confirmLoading,e.ModalText;return n.a.createElement(\"div\",{style:{width:\"100%\",padding:\"100px 0 10px\"}},n.a.createElement(\"div\",{className:c.a.cesiumContainer,id:\"cesiumContainer\"},n.a.createElement(\"div\",{className:c.a.buttons},n.a.createElement(i[\"a\"],{placement:\"right\",title:\"\\u56fe\\u8868\\u5206\\u6790\",onClick:()=>this.showModal(\"chart\")},n.a.createElement(s[\"a\"],{type:\"dashed\",block:!0},n.a.createElement(\"span\",{className:\"icon iconfont icon-zhengcefagui\"}))),n.a.createElement(i[\"a\"],{placement:\"bottom\",title:\"\\u4eba\\u5458\\u5206\\u6790\",onClick:()=>this.showModal(\"source\")},n.a.createElement(s[\"a\"],{type:\"dashed\",block:!0},n.a.createElement(\"span\",{className:\"icon iconfont icon-lujingyunsuan\"})))),n.a.createElement(\"div\",{className:c.a.toolbar},n.a.createElement(\"div\",{className:c.a.bar,onClick:this.zoomIn},n.a.createElement(\"span\",{className:\"icon iconfont icon-zoomin\"})),n.a.createElement(\"div\",{className:c.a.bar,onClick:this.zoomOut},n.a.createElement(\"span\",{className:\"icon iconfont icon-zoomout\"})))),t&&n.a.createElement(h[\"default\"],{parent:this,viewer:t,visible:a}),t&&n.a.createElement(m[\"default\"],{parent:this,viewer:t,visible:o}))}}t[\"default\"]=d},QRz8:function(e,t,a){e.exports={cesiumContainer:\"cesiumContainer___2a4Rq\",toolbar:\"toolbar___1VMi6\",bar:\"bar___1pNjT\",buttons:\"buttons___2BbLO\"}}}]);","extractedComments":[]}