{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[60],{\"8MHK\":function(e,a,t){},LacY:function(e,a,t){\"use strict\";t.r(a);t(\"7Kak\");var l,n,r,o=t(\"9yH6\"),i=(t(\"IzEo\"),t(\"bx4M\")),c=(t(\"g9YV\"),t(\"wCAj\")),s=(t(\"+BJd\"),t(\"mr32\")),m=(t(\"14J3\"),t(\"BMrR\")),d=(t(\"OaEy\"),t(\"2fM7\")),p=(t(\"y8nQ\"),t(\"Vl3Y\")),h=(t(\"5NDa\"),t(\"5rEg\")),y=(t(\"jCWc\"),t(\"kPKH\")),v=(t(\"+L6B\"),t(\"2/Rp\")),u=(t(\"Pwec\"),t(\"CtXQ\")),E=t(\"p0pE\"),g=t.n(E),f=(t(\"2qtc\"),t(\"kLXV\")),C=t(\"q1tI\"),b=t.n(C),M=t(\"8MHK\"),k=t.n(M),w=(t(\"MT78\"),t(\"MuoO\")),I=(t(\"8+Sn\"),l=Object(w[\"connect\"])(e=>{var a=e.Movie,t=e.Login;return{Movie:a,Login:t}}),l((r=class extends C[\"Component\"]{constructor(e){super(e),this.delete=(e=>{var a=this.props.dispatch;f[\"a\"].confirm({title:\"delete the data ?\",onCancel:()=>{},onOk:()=>{console.log(e),a({type:\"Movie/deleteMovie\",payload:{id:e}}).then(e=>{e.success&&a({type:\"Movie/getAllMovies\"})})}})}),this.findByType=(()=>{var e=this.state,a=e.type,t=e.name,l=this.props.dispatch;console.log(t,a),l({type:\"Movie/findByType\",payload:{name:\"\"===t?\"ALL\":t,type:a}})}),this.handleChange=(e=>{console.log(\"selected \".concat(e)),this.setState({type:e})}),this.showModal=(()=>{this.setState({visible:!0})}),this.handleCancel=(()=>{this.setState({visible:!1})}),this.handleCreate=(()=>{var e=this.formRef.props.form,a=this.props.dispatch;e.validateFields((t,l)=>{t||(console.log(\"Received values of form: \",l),a({type:\"Movie/save\",payload:{data:g()({},l)}}).then(t=>{console.log(t),t.success&&a({type:\"Movie/getAllMovies\"}),e.resetFields(),this.setState({visible:!1})}))})}),this.saveFormRef=(e=>{this.formRef=e}),this.describe=(e=>{var a=this.props.history;a.push(\"./movie/comments?name=\"+e)}),this.onNameChange=(e=>{this.setState({name:e.target.value})}),this.state={visible:!1,type:\"ALL\",name:\"\"}}componentDidMount(){var e=this.props,a=e.dispatch;e.history,this.props.Login;a({type:\"Movie/getAllMovies\",callback:e=>{console.log(e)}})}render(){var e=this.props.Movie.movies;return b.a.createElement(\"div\",{className:k.a.Movie,style:{paddingTop:100}},b.a.createElement(m[\"a\"],null,b.a.createElement(y[\"a\"],{span:2},b.a.createElement(v[\"a\"],{type:\"primary\",shape:\"round\",onClick:this.showModal},b.a.createElement(u[\"a\"],{type:\"plus\"}),\"Add\")),b.a.createElement(y[\"a\"],{offset:10,span:14},b.a.createElement(p[\"a\"],{layout:\"inline\"},b.a.createElement(p[\"a\"].Item,{label:\"name\",style:{height:20}},b.a.createElement(h[\"a\"],{prefix:b.a.createElement(u[\"a\"],{type:\"user\",style:{color:\"rgba(0,0,0,.25)\"}}),placeholder:\"movieName\",onChange:this.onNameChange}),\",\"),b.a.createElement(p[\"a\"].Item,{label:\"Type\"},b.a.createElement(d[\"a\"],{defaultValue:\"All\",style:{width:120},onChange:this.handleChange},b.a.createElement(d[\"a\"].Option,{value:\"ALL\"},\"all\"),b.a.createElement(d[\"a\"].Option,{value:\"comedy\"},\"comedy\"),b.a.createElement(d[\"a\"].Option,{value:\"warfare\"},\"warfare\"),b.a.createElement(d[\"a\"].Option,{value:\"action\"},\"action\"),b.a.createElement(d[\"a\"].Option,{value:\"love\"},\"love\"))),b.a.createElement(p[\"a\"].Item,null,b.a.createElement(v[\"a\"],{type:\"primary\",onClick:this.findByType},b.a.createElement(u[\"a\"],{type:\"search\"}),\"Search\"))))),b.a.createElement(i[\"a\"],null,b.a.createElement(c[\"a\"],{rowKey:e=>e.id,columns:[{title:\"Name\",dataIndex:\"name\",key:\"name\"},{title:\"Director\",dataIndex:\"director\",key:\"director\"},{title:\"Type\",dataIndex:\"type\",key:\"type\",render:function(e,a){return\"love\"===e?b.a.createElement(s[\"a\"],{color:\"geekblue\",key:\"love\"},\" love \"):\"action\"===e?b.a.createElement(s[\"a\"],{color:\"grey\",key:\"action\"},\" action \"):\"warfare\"===e?b.a.createElement(s[\"a\"],{color:\"pink\",key:\"warfare\"},\" warfare \"):\"comedy\"===e?b.a.createElement(s[\"a\"],{color:\"red\",key:\"comedy\"},\" comedy \"):void 0}},{title:\"Introduce\",dataIndex:\"content\",key:\"records\",ellipsis:!0},{title:\"Action\",key:\"action\",width:300,render:(e,a)=>b.a.createElement(\"span\",null,b.a.createElement(v[\"a\"],{type:\"danger\",style:{marginRight:16},onClick:()=>this.delete(a.id)},\"delete\"),b.a.createElement(v[\"a\"],{type:\"primary\",style:{marginRight:16},onClick:()=>this.describe(a.name)},\"describe the movie\"))}],dataSource:e,pagination:{pageSize:5}})),b.a.createElement(L,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}},n=r))||n),L=p[\"a\"].create({name:\"form_in_addMovie\"})(class extends b.a.Component{render(){var e=this.props,a=e.visible,t=e.onCancel,l=e.onCreate,n=e.form,r=n.getFieldDecorator;return b.a.createElement(f[\"a\"],{visible:a,title:\"add movie\",okText:\"add\",onCancel:t,onOk:l},b.a.createElement(p[\"a\"],{layout:\"vertical\"},b.a.createElement(p[\"a\"].Item,{label:\"Name\"},r(\"name\",{rules:[{required:!0,message:\"please enter name !\"}]})(b.a.createElement(h[\"a\"],null))),b.a.createElement(p[\"a\"].Item,{label:\"Director\"},r(\"director\",{rules:[{required:!0,message:\"please enter director !\"}]})(b.a.createElement(h[\"a\"],null))),b.a.createElement(p[\"a\"].Item,{className:\"collection-create-form_last-form-item\",label:\"Type\"},r(\"type\",{initialValue:\"love\"})(b.a.createElement(o[\"a\"].Group,null,b.a.createElement(o[\"a\"],{value:\"love\"},\"love\"),b.a.createElement(o[\"a\"],{value:\"action\"},\"action\"),b.a.createElement(o[\"a\"],{value:\"warfare\"},\"warfare\"),b.a.createElement(o[\"a\"],{value:\"comedy\"},\"comedy\")))),b.a.createElement(p[\"a\"].Item,{label:\"Introduce\"},r(\"content\")(b.a.createElement(h[\"a\"],{type:\"textarea\"})))))}});a[\"default\"]=Object(w[\"connect\"])()(p[\"a\"].create()(I))}}]);","extractedComments":[]}