{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[71],{NXl5:function(e,a,t){e.exports={kuang:\"kuang___3hXQV\"}},aDxj:function(e,a,t){\"use strict\";t.r(a);t(\"5NDa\");var l,n,s,r=t(\"5rEg\"),c=(t(\"y8nQ\"),t(\"Vl3Y\")),i=(t(\"IzEo\"),t(\"bx4M\")),o=(t(\"g9YV\"),t(\"wCAj\")),m=(t(\"14J3\"),t(\"BMrR\")),d=(t(\"jCWc\"),t(\"kPKH\")),u=(t(\"+L6B\"),t(\"2/Rp\")),p=(t(\"Pwec\"),t(\"CtXQ\")),h=t(\"p0pE\"),g=t.n(h),k=(t(\"2qtc\"),t(\"kLXV\")),E=t(\"q1tI\"),y=t.n(E),b=t(\"NXl5\"),v=t.n(b),I=(t(\"MT78\"),t(\"MuoO\")),f=(t(\"8+Sn\"),l=Object(I[\"connect\"])(e=>{var a=e.Kuang,t=e.Login;return{Kuang:a,Login:t}}),l((s=class extends E[\"Component\"]{constructor(e){super(e),this.delete=(e=>{var a=this.props.dispatch;k[\"a\"].confirm({title:\"\\u5220\\u9664\\u5f53\\u524d\\u6570\\u636e\\u5417\\uff1f\",onCancel:()=>{},onOk:()=>{console.log(e),a({type:\"Kuang/deleteKuang\",payload:{id:e}}).then(e=>{e.success&&a({type:\"Kuang/getAllKuangs\",callback:e=>{var a=e.success,t=e.data;a&&t&&this.setState({kuangs:t})}})})}})}),this.showModal=(()=>{this.setState({visible:!0})}),this.handleCancel=(()=>{this.setState({visible:!1})}),this.handleCreate=(()=>{var e=this.formRef.props.form,a=this.props.dispatch;e.validateFields((t,l)=>{t||(console.log(\"Received values of form: \",l),a({type:\"Kuang/save\",payload:{data:g()({},l)}}).then(t=>{console.log(t),t.success&&a({type:\"Kuang/getAllKuangs\",callback:e=>{var a=e.success,t=e.data;a&&t&&this.setState({kuangs:t})}}),e.resetFields(),this.setState({visible:!1})}))})}),this.saveFormRef=(e=>{this.formRef=e}),this.rollback=(e=>{this.props.history.goBack()}),this.download=(()=>{var e=document.createElement(\"a\");document.body.appendChild(e),e.style.display=\"none\",e.href=\"/api/kuang/download\",e.download=\"hihi\",e.click(),document.body.removeChild(e)}),this.state={visible:!1,kuangs:[]}}componentDidMount(){var e=this.props,a=e.dispatch,t=e.history,l=this.props.Login;l&&\"\"!==l.username?a({type:\"Kuang/getAllKuangs\",callback:e=>{console.log(e);var a=e.success,t=e.data;a&&t&&this.setState({kuangs:t})}}):t.push(\"/\")}render(){var e=this.state.kuangs,a=\"\";return a=void 0!=this.props.Login?this.props.Login.role:\"COMMON\",console.log(e),y.a.createElement(\"div\",{className:v.a.kuang},y.a.createElement(m[\"a\"],null,y.a.createElement(d[\"a\"],{span:2},\"ADMIN\"===a?y.a.createElement(u[\"a\"],{type:\"primary\",shape:\"round\",onClick:this.showModal},y.a.createElement(p[\"a\"],{type:\"plus\"}),\"\\u6dfb\\u52a0\"):\"\"),y.a.createElement(d[\"a\"],{span:2},y.a.createElement(u[\"a\"],{type:\"primary\",shape:\"round\",onClick:this.download},y.a.createElement(p[\"a\"],{type:\"download\"}),\"\\u4e0b\\u8f7d\")),y.a.createElement(d[\"a\"],{span:2},y.a.createElement(u[\"a\"],{type:\"primary\",shape:\"round\",onClick:this.rollback},y.a.createElement(p[\"a\"],{type:\"rollback\"}),\"\\u8fd4\\u56de\")),y.a.createElement(d[\"a\"],{offset:18,span:6})),y.a.createElement(i[\"a\"],null,y.a.createElement(o[\"a\"],{rowKey:e=>e.id,columns:[{title:\"\\u5e74\\u4efd\",dataIndex:\"nf\",key:\"nf\"},{title:\"\\u6708\\u4efd\",dataIndex:\"yf\",key:\"yf\"},{title:\"\\u5757\\u6bb5\\u7f16\\u53f7\",dataIndex:\"kdbh\",key:\"kdbh\"},{title:\"\\u4e95\\u53e3\\u4ee3\\u7801\",dataIndex:\"jkdm\",key:\"jkdm\"},{title:\"\\u4e95\\u53e3\\u540d\\u79f0\",dataIndex:\"jkmc\",key:\"jkmc\"},{title:\"\\u91c7\\u533a\\u540d\\u79f0\",dataIndex:\"cqmc\",key:\"cqmc\"},{title:\"\\u91c7\\u533a\\u4ee3\\u7801\",dataIndex:\"cqdm\",key:\"cqdm\"},{title:\"\\u7164\\u5c42\\u540d\\u79f0\",dataIndex:\"mcmc\",key:\"mcmc\"},{title:\"\\u503e\\u89d2\",dataIndex:\"qj\",key:\"qj\"},{title:\"\\u7164\\u539a\",dataIndex:\"mh\",key:\"mh\"},{title:\"\\u5730\\u8d28\\u50a8\\u91cf\",dataIndex:\"dzcl\",key:\"dzcl\"},{title:\"\\u64cd\\u4f5c\",key:\"action\",render:(e,t)=>y.a.createElement(\"span\",null,\"ADMIN\"===a?y.a.createElement(\"a\",{style:{marginRight:16},onClick:()=>this.delete(t.id)},\"\\u5220\\u9664\"):\"\")}],dataSource:e,pagination:!0})),y.a.createElement(C,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate}))}},n=s))||n),C=c[\"a\"].create({name:\"form_in_addKuang\"})(class extends y.a.Component{render(){var e=this.props,a=e.visible,t=e.onCancel,l=e.onCreate,n=e.form,s=n.getFieldDecorator;return y.a.createElement(k[\"a\"],{visible:a,title:\"\\u6dfb\\u52a0\\u77ff\\u4e95\\u4fe1\\u606f\",okText:\"Create\",onCancel:t,onOk:l},y.a.createElement(c[\"a\"],{layout:\"inline\"},y.a.createElement(c[\"a\"].Item,{label:\"\\u5e74\\u4efd\"},s(\"nf\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u5e74\\u4efd!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u6708\\u4efd\"},s(\"yf\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u6708\\u4efd!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u5757\\u6bb5\\u7f16\\u53f7\"},s(\"kdbh\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u5757\\u6bb5\\u7f16\\u53f7!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u4e95\\u53e3\\u4ee3\\u7801\"},s(\"jkdm\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u4e95\\u53e3\\u4ee3\\u7801!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u4e95\\u53e3\\u540d\\u79f0\"},s(\"jkmc\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u4e95\\u53e3\\u540d\\u79f0!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u91c7\\u533a\\u540d\\u79f0\"},s(\"cqmc\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u91c7\\u533a\\u540d\\u79f0!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u91c7\\u533a\\u4ee3\\u7801\"},s(\"cqdm\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u91c7\\u533a\\u4ee3\\u7801!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u7164\\u5c42\\u540d\\u79f0\"},s(\"mcmc\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u7164\\u5c42\\u540d\\u79f0!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u503e\\u89d2\"},s(\"qj\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u503e\\u89d2!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u7164\\u539a\"},s(\"mh\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u7164\\u539a!\"}]})(y.a.createElement(r[\"a\"],null))),y.a.createElement(c[\"a\"].Item,{label:\"\\u5730\\u8d28\\u50a8\\u91cf\"},s(\"dzcl\",{rules:[{required:!0,message:\"\\u8bf7\\u8f93\\u5165\\u5730\\u8d28\\u50a8\\u91cf!\"}]})(y.a.createElement(r[\"a\"],null)))))}});a[\"default\"]=Object(I[\"connect\"])()(c[\"a\"].create()(f))}}]);","extractedComments":[]}