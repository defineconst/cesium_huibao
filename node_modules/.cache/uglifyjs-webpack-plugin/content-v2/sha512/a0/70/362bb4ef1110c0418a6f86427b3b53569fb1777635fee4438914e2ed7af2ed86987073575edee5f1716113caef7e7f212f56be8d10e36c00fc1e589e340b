{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[5,4],{\"3uSS\":function(e,o,r){\"use strict\";r.r(o);var t,i,n,a=r(\"q1tI\"),s=r.n(a),u=r(\"qc8z\"),l=r.n(u),d=r(\"MuoO\"),m=(r(\"M7fd\"),r(\"7WSk\")),c=(t=Object(d[\"connect\"])(e=>{var o=e.Login,r=e.HUIBAO;return{Login:o,HUIBAO:r}}),t((n=class extends a[\"Component\"]{constructor(){super(...arguments),this.start=(()=>{this.initMap({}).then(()=>{return Object(m[\"_addHangPian\"])()})}),this.initMap=(()=>{return new Promise(e=>{mars3d.createMap({id:\"cesiumContainer\",url:\"/config/marsConfig.json\",success:o=>{window.viewer=o;var r=new DrawHelper(o);this.props.dispatch({type:\"HUIBAO/setCommon\",payload:{viewer:o,drawHelper:r}}),e()}})})}),this.zoomIn=(()=>{var e=this.props.HUIBAO.viewer,o=e.camera.position,r=e.scene.globe.ellipsoid,t=r.cartesianToCartographic(o),i=t.height,n=parseFloat(Cesium.Math.toDegrees(t.longitude).toFixed(8)),a=parseFloat(Cesium.Math.toDegrees(t.latitude).toFixed(8));e.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(n,a,i/1.5),duration:1})}),this.zoomOut=(()=>{var e=this.props.HUIBAO.viewer,o=e.camera.position,r=e.scene.globe.ellipsoid,t=r.cartesianToCartographic(o),i=t.height,n=parseFloat(Cesium.Math.toDegrees(t.longitude).toFixed(8)),a=parseFloat(Cesium.Math.toDegrees(t.latitude).toFixed(8));e.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(n,a,1.5*i),duration:1})})}componentDidMount(){this.start()}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(\"div\",{className:l.a.cesiumContainer,id:\"cesiumContainer\"},s.a.createElement(\"div\",{className:l.a.toolbar},s.a.createElement(\"div\",{className:l.a.bar,onClick:this.zoomIn},s.a.createElement(\"span\",{className:\"icon iconfont icon-zoomin\"})),s.a.createElement(\"div\",{className:l.a.bar,onClick:this.zoomOut},s.a.createElement(\"span\",{className:\"icon iconfont icon-zoomout\"})))))}},i=n))||i);o[\"default\"]=c},\"7WSk\":function(e,o,r){\"use strict\";function t(){return new Promise((e,o)=>{var r=window.viewer,t=new Cesium.CesiumTerrainProvider({url:\"\".concat(window.host,\"/huibao/mq_terrain\")});r.terrainProvider=t,r.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(108.79,26.45,15e3),duration:2}),e()})}function i(){return new Promise((e,o)=>{var r=window.viewer,t=new Cesium.CesiumTerrainProvider({url:\"http://data.marsgis.cn/terrain\"});r.terrainProvider=t,r.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(108.79,26.45,15e3)}),e()})}function n(){var e=window.globalConfig.hangpian_dom;return new Promise((o,r)=>{var t=new Cesium.WebMapServiceImageryProvider({url:e.url,layers:e.name,parameters:{service:\"WMS\",format:\"image/png\",transparent:!0}});t.name=\"hangpian\",viewer.imageryLayers.addImageryProvider(t),o()})}function a(e){var o=e.fillColor,r=e.strokeColor,t=e.strokeWidth,i=e.clampToGround;return new Promise((e,n)=>{console.log(window.viewer,o,r);var a=window.viewer,s=u(\"qiukuaitu_polygon\");s&&a.dataSources.remove(s),i||(a.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})),Cesium.GeoJsonDataSource.load(\"\".concat(window.host,\"/huibao/fenhutu.geojson?_t=\").concat((new Date).getTime()),{stroke:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(r.r,r.g,r.b),r.a),fill:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(o.r,o.g,o.b),o.a),strokeWidth:t,clampToGround:i}).then(o=>{o.name=\"qiukuaitu_polygon\",a.dataSources.add(o),a.flyTo(o,{duration:2}),e()})})}function s(e){var o=e.fillColor,r=e.strokeColor,t=e.strokeWidth,i=e.clampToGround;return new Promise((e,n)=>{console.log(window.viewer,o,r);var a=window.viewer,s=u(\"qiukuaitu_line\");s&&a.dataSources.remove(s),i||(a.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})),Cesium.GeoJsonDataSource.load(\"\".concat(window.host,\"/huibao/fenhutu_line.geojson?_t=\").concat((new Date).getTime()),{stroke:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(r.r,r.g,r.b),r.a),fill:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(o.r,o.g,o.b),o.a),strokeWidth:t,clampToGround:i}).then(o=>{o.name=\"qiukuaitu_line\",a.dataSources.add(o),a.flyTo(o,{duration:2}),e()})})}function u(e){if(\"string\"===typeof e&&\"\"!==e.trim()){for(var o=window.viewer,r=o.dataSources,t=0;t<r.length;t++){var i=r.get(t);if(i.name===e)return i}return null}}function l(){return new Promise((e,o)=>{console.log(window.viewer);var r=window.viewer,t=u(\"qiukuaitu_polygon\"),i=u(\"qiukuaitu_line\");t&&r.dataSources.remove(t),i&&r.dataSources.remove(i),e()})}function d(e){var o=e.fillColor,r=e.strokeColor,t=e.strokeWidth,i=e.clampToGround;return new Promise((e,n)=>{console.log(window.viewer,o,r);var a=window.viewer,s=u(\"yanmotu_polygon\");s&&a.dataSources.remove(s),i||(a.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})),Cesium.GeoJsonDataSource.load(\"\".concat(window.host,\"/huibao/yanmotu.geojson?_t=\").concat((new Date).getTime()),{stroke:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(r.r,r.g,r.b),r.a),fill:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(o.r,o.g,o.b),o.a),strokeWidth:t,clampToGround:i}).then(o=>{o.name=\"yanmotu_polygon\",console.log(o),a.dataSources.add(o),a.flyTo(o,{duration:2}),e()})})}function m(e){var o=e.fillColor,r=e.strokeColor,t=e.strokeWidth,i=e.clampToGround;return new Promise((e,n)=>{console.log(window.viewer,o,r);var a=window.viewer,s=u(\"yanmotu_line\");s&&a.dataSources.remove(s),i||(a.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})),Cesium.GeoJsonDataSource.load(\"\".concat(window.host,\"/huibao/yanmo.geojson?_t=\").concat((new Date).getTime()),{stroke:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(r.r,r.g,r.b),r.a),fill:Cesium.Color.fromAlpha(Cesium.Color.fromBytes(o.r,o.g,o.b),o.a),strokeWidth:t,clampToGround:i}).then(o=>{o.name=\"yanmotu_line\",console.log(o),a.dataSources.add(o),a.flyTo(o,{duration:2}),e()})})}function c(){return new Promise((e,o)=>{var r=window.viewer,t=u(\"yanmotu_polygon\"),i=u(\"yanmotu_line\");t&&r.dataSources.remove(t),i&&r.dataSources.remove(i),e()})}function w(){return new Promise((e,o)=>{Cesium.GeoJsonDataSource.load(\"\".concat(window.host,\"/huibao/zhujitu.geojson?_t=\").concat((new Date).getTime()),{}).then(o=>{var r=new Cesium.CustomDataSource(\"zhujitu\");console.log(o);for(var t=o.entities.values,i=0;i<t.length;i++){var n=t[i],a='<table style=\"width: 200px;\"><tr>\\n          <th scope=\"col\" colspan=\"4\"  style=\"text-align:center;font-size:15px;\"></th></tr><tr>\\n          <td >\\u5730\\u5757\\u9762\\u79ef\\uff1a</td><td >100\\u5e73\\u65b9\\u7c73</td></tr><tr>\\n          <td >\\u5730\\u5757\\u6240\\u5c5e\\uff1a</td><td >'.concat(n.properties.ZJNR_12.getValue(),\"</td></tr><tr>\\n          <td >\\u5176\\u4ed6\\u5c5e\\u6027\\uff1a</td><td >xxx</td></tr><tr></table>\");r.entities.add({name:n.properties.ZJNR_12.getValue(),position:n.position,billboard:void 0,label:{text:n.properties.ZJNR_12.getValue(),font:\"normal small-caps normal 19px \\u6977\\u4f53\",style:Cesium.LabelStyle.FILL_AND_OUTLINE,fillColor:Cesium.Color.WHITE,outlineColor:Cesium.Color.BLACK,outlineWidth:2,horizontalOrigin:Cesium.HorizontalOrigin.CENTER,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:new Cesium.Cartesian2(0,0),heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,2e6)},popup:{html:a,anchor:[0,-25]}})}viewer.dataSources.add(r),viewer.flyTo(r,{duration:2}),e()})})}function C(){return new Promise((e,o)=>{var r=window.viewer,t=u(\"zhujitu\");t&&r.dataSources.remove(t),e()})}r.r(o),r.d(o,\"_addDixingtu\",function(){return t}),r.d(o,\"_removeDixingtu\",function(){return i}),r.d(o,\"_addHangPian\",function(){return n}),r.d(o,\"_addQiukuaituPolygon\",function(){return a}),r.d(o,\"_addQiukuaituLine\",function(){return s}),r.d(o,\"_removeQiukuaitu\",function(){return l}),r.d(o,\"_addYanmotuPolygon\",function(){return d}),r.d(o,\"_addYanmotuLine\",function(){return m}),r.d(o,\"_removeYanmotu\",function(){return c}),r.d(o,\"_addZhujitu\",function(){return w}),r.d(o,\"_removeZhujitu\",function(){return C})},M7fd:function(e,o,r){\"use strict\";r(\"q1tI\"),r(\"QGbm\")},qc8z:function(e,o,r){e.exports={cesiumContainer:\"cesiumContainer___2REjI\",manage:\"manage___2ypve\",toolbar:\"toolbar___1RBTv\",bar:\"bar___whpRV\",buttons:\"buttons___3Y_lf\"}}}]);","extractedComments":[]}